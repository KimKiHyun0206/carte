---
category: Database
url_path: '/sql'
title: 'SQL'
type: 'Database'

layout: null
---

# 들어가기 앞서서
데이터베이스의 가장 기초라고 할 수 있는 SQL에 대한 개념을 제대로 공부하고 구문을 작성하는 연습이나, 문법에 대해서 공부하는 것이 좋을 것 같아서 다시 한 번 제대로 공부할 것이다.



# SQL
> 관계형 데이터베이스에 정보를 저장하고 처리하기 위한 프로그래밍 언어

* 관계형 데이터베이스는 정보를 표 형식으로 저장한다
* 행과 열은 다양한 데이터 속성과 데이터 값 간의 다양한 관계를 나타낸다
* SQL문을 사용하여 데이터베이스에서 정보를 저장, 업데이터, 제거, 검색할 수 있다
* 데이터베이스 성능을 유지 및 관리, 최적과하는데에 SQL문을 사용할 수도 있다

# SQL : 시스템의 구성요소
### SQL 테이블
> SQL 테이블은 관계형 데이터베이스의 기본 요소이다

* SQL 데이터베이스 테이블은 행과 열로 구성된다
* 데이터베이스 엔지니어는 테이블간의 관계를 생성하여 데이터 스토리지 공간을 최적화한다

| 제품 ID |   제품명   | 색상 ID |
|:-----:|:-------:|:-----:|
|   1   | ABC 마우스 |   1   |
|   2   | MIN 마우스 |   2   |
|   3   | MAX 마우스 |   3   |

| 색상 ID | 색상 이름 |
|:-----:|:-----:|
|   1   |  빨강   |
|   2   |  주황   |
|   3   |  파랑   |

위 두 테이블을 조인하여 생상표를 연결한다

### SQL문
> 관계형 데이터베이스 관리 시스템에서 이해하는 유효한 명령

다양한 SQL문을 작성하여 데이터를 조회하거나 삭제하는 등 다양한 일을 할 수 있다

> ### 저장 프로시저
> > 관계형 데이터베이스에 저장된 하나 이상의 SQL문 모음
> 
> * 효율성과 성능을 개선할 수 있기 때문에 사용한다
> * 서로 다른 애플리케이션에서 동일한 SQL문을 작성하는 대신 저장 프로시저로 간단하게 SQL을 만들 수 있다

# SQL문의 작동 방법
> SQL 구현에는 데이터베이스 쿼리를 처리하고 결과를 반환하는 서버 시스템이 필요하다

## 구문 분석기
SQL문의 일부 단어를 특수 기호로 토근화 하거나 바꾸는 것으로 시작한다.
그런 다음 SQL문에서 다음 사항을 확인한다

### 정확성
> 구문 분석기는 SQL문이 쿼리문의 정확성을 보장하는 SQL 의미 또는 규칙을 준수하는지 확인한다

* SQL 명령이 세미콜론으로 끝나는지 확인
* INSERT명령어 사용시 컬럼명을 생략했을 시에 모든 값들이 제대로 들어가는지
* 만약 옳지 않은 구문일 경우 구문 분석기는 오류를 반환한다

### 권한 부여
> 구문 분석기는 쿼리를 실행하는 사용자가 해당 데이터를 조작하는데에 필요한 권한이 있는지도 검증한다

* 데이터베이스에는 다양한 권한이 있다
* 만약 권한이 없는 사용자가 권한을 사용하려고 한다면 이를 막는다

## 관계형 엔진
> 관계형 엔진 또는 쿼리 프로세서는 가장 효과적인 방법으로 해당 데이터를 조작하기 위한 계획을 만든다

* 유사한 쿼리를 확인
* 이전 데이터 조작 방법을 재사용 or 새로 만든다
* 바이트코드라는 SQL문의 중간 수준 표현으로 계획을 작성한다
* 관계형 데이터베이스는 바이트 코드를 사용하여 데이터베이스 검색 및 수정을 효율적으로 수행한다

## 스토리지 엔진
> 스토리지 엔진 또는 데이터베이스 엔진은 바이트코드를 처리하고 의도한 SQL문을 실행하는 소프트웨어 구성 요소이다

* 물리적으로 디스크 스토리지의 데이터베이스 파일에서 데이터를 읽고 저장한다
* 완료되면 스토리지 엔진은 요청하는 애플리케이션에 결과를 반환한다

# SQL : 명령
> SQL은 개발자가 관계형 데이터베이스에 저장된 데이터를 조작하는데 사용하는 특정 키워드 또는 SQL문이다

## Data Definition Language, 데이터 정의 언어
> DDL은 데이터베이스 구조를 설계하는 SQL명령이다

* 데이터베이스 엔지니어는 DDL을 사용하여 비즈니스 요구 사항에 따라 데이터베이스 객체를 만들고 수정한다
* 예를 들어 데이터베이스 엔지니어는 `CREATE`명령을 사용하여 테이블, 뷰 및 인덱스와 같은 데이터베이스 객체를 생성한다

## Data Management Language, 데이터 조작 언어
> 새 정보를 쓰거나 관계형 데이터베이스의 기존 레코드를 수정한다

애플리케이션은 INSERT 명령을 사용하여 데이터베이스에 새 레코드를 저장한다

## Data Control Language, 데이터 제어 언어
> DCL을 사용하여 다른 사용자의 데이터베이스 액세스를 관리하거나 권한을 부여한다

* `GRANT`명령을 사용하여 특정 애플리케이션이 하나 이상의 테이블을 조작하도록 허용한다
* 'REVOKE'명령으 사용하여 사용자에게 부여된 권한 삭제

## Transaction Control Language
> 관계형 엔진은 TCL로 데이터베이스를 자동으로 변경한다

예를 들어 데이터베이스는 `ROLLBACK`명령을 사용하여 잘못된 트랜잭션을 실행 취소한다

<br>

# 마치며
이번에 SQL에 대해서 공부하면서 구문 분석기에 대하여 제대로 알게 되었다. 구문 분석기가 있다는 것은 알았지만 구문 분석기가 권한을 검증하는지는 이번에 알게 되었기 때문이다.
그리고 관계형 엔진과 스토리지 엔진의 차이점이 조금 헷갈렸는데 이에 대해서도 제대로 정리하면서 둘의 역하링 다르다는 것을 제대로 알게 되었다.











