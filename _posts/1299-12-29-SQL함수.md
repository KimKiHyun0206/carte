---
category: Database
url_path: '/sql/function'
title: 'SQL Function'
type: 'Database'

layout: null
---

# 들어가기 앞서서

기본적인 SQL문법을 공부했으면 SQL을 더 효율적으로 사용할 수 있는 함수에 대해서 공부해야겠다는 생각이 들었다.
왜냐하면 나는 기본적인 SQL문법만 다룰줄 알고 합수에 대해서는 사용을 해본적이 없기 때문이다. 나는 JPA를 사용할 때도 데이터를 불러온 이후에
SpringFramework에서 이 자료들을 처리하여 결과값으로 내보냈다. 하지만 이것을 데이터베이스에서 처리해서 가져온다면 앱의 부담을 낮출 수 있다고 생각한다.

<br>

# SQL 함수

> SQL로 완전히 구성된 함수

* 단일행 함수와 복수행 함수로 나뉜다
    * 단일행 함수 : 하나의 입력행으로 하나의 결과물을 가져온다
    * 복수행 함수 : 여러 개의 입력행으로 하나의 결과물을 가져온다
* 함수는 경우에 따라 성능이 좋아질 수도 있고 나빠질 수도 있다
    * 만약 나이가 20이상인 사람의 나이만 버림하는 함수를 작성한다고 해보자
    * 나이가 20이상인 사람을 찾고 버림을 하는 함수
    * 모든 사람의 나이의 일의 자리 수를 버림하고 20을 찾는 함수
    * 데이터의 성질에 따라 다르겠지만 어떤 것을 먼저 하느냐에 따라서 속도가 달라질 수도 있다

# SQL 함수 : 사용하는 이유

1. 데이터베이스 또는 데이터베이스 애플리케이션 아키텍처 내에서 SQL 함수에 대해 다수의 유용한 애플리케이션이 있다
2. SQL 함수로 내장 함수의 지원이 확장된다
3. 애플리케이션 조작을 추가로 `모듈화` 하여 전체 데이터베이스 디자인 및 데이터베이스 보안을 개선하기 위해 컬럼 데이터의 연산자를 작성한다

### 함수로 데이터베이스 보안을 개선한다?

* 데이터베이스에 접근할 때 데이터에 그대로 접근하면 민감한 정보의 경우 문제가 생길 수 있다
* 만약 주민등록 번호라는 데이터에 접근할 때 접근하는 프로시저가 있다고 해보자
* 이 프로시저가 주민등록번호 뒷자리는 *로 가려주는 처리를 해주고 데이터를 가져온다면 데이터베이스 보안을 개선할 수 있다

# SQL 함수 : 다양한 SQL 함수
여기서는 표로만 알아보고 자세한 내용은 실습과 함께 알아볼 것이다
### 단일행 함수
| 숫자 함수                                                                                                                | 문자 함수(문자로 반환)                                                                                                    | 문자 함수(숫자 반환)               | 날짜/시간 함수                                                                                            | 변환 함수                                                                                                                                                    | 인코딩과 디코딩                  | NULL 관련 함수                  |
|:---------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------|:---------------------------|:----------------------------------------------------------------------------------------------------|:---------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------|:----------------------------|
| ABS<br/>CEIL<br/>COS<br/>EXP<br/>FLOOR<br/>LN<br/>LOG<br/>MOD<br/>POWER<br/>ROUND(number)<br/>SIGN<br/>TRUNC(number) | CHR<br/>CONCAT<br/>LOWER<br/>LPAD<br/>LTRIM<br/>STR<br/>REPLACE<br/>RPAD<br/>RTRIM<br/>SUVSTP<br/>TRIM<br/>UPPER | ASCII<br/>INSTR<br/>LENGTH | ADD_MONTHS<br/>LAST_DAY<br/>NEXT_DAY<br/>NEXT_DAT<br/>ROUND(date)<br/>SYSDATE<br/>TO_SHAR(datatime) | ASCIISTR<br/>CONVSER<br/>TO_BINARY_DOUBLE<br/>TO_BINARY_FLOAT<br/>TO_CHAR(character)<br/>TO_SHAR(datatime)<br/>TO_CHAR(number)<br/>TO_DATE<br/>TO_NUMBER | DECODE<br/>DUMP<br/>VSIZE | COALESCE<br/>NULLIF<br/>NVL |

### 집계 함수
* AVG
* COUNT
* CUME_DIST
* FIRST
* LAST
* MAX
* MEDIAN
* MIN
* PERCENT_RANK
* PERCENTILE_CONT
* SUM

### 분석 함수
* AVG
* CORR
* COUNT
* CUME_DIST
* DENCE_RANK
* FIRST
* FIRST_VALUE
* LAST_VALUE
* LEAD
* MAX
* MIN
* RANK
* SUM


<br>

# 마치며
학교에서 배운 함수보다 양이 많다. 역시 대학교에서 배우는 것도 중요하지만 내가 스스로 찾아서 공부하는 것도 다시 느끼게 되었다.
그리고 이번에 함수의 설명에 대하여 모두 적지 않은 이유는 여기서 함수의 의미와 매개변수 등을 적는다고 해서 실습 없이 이들을 완전히 학습했다고 느끼지 않을 것 같아서이다.
그래서 지금은 일단 이 함수가 어떤 함수인지만 알게 정리만 했다. 나중에는 실습을 하면서 함수명만 보고 매개변수는 모르더라도 이게 어떤 일을 하는 함수인지는 바로 떠올릴 수 있도록 정리해야겠다.


